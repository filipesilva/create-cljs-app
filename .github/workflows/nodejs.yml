name: Node CI

on: [push]

jobs:
  experiment:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v1
    - name: Use Node.js 12.x
      uses: actions/setup-node@v1
      with:
        node-version: '12.x'
    - name: github.ref
      run: echo ${{ github.ref }}
    - name: github.repository
      run: echo ${{ github.repository }}
    - name: github.head_ref
      run: echo ${{ github.head_ref }}
    - name: github.base_ref
      run: echo ${{ github.base_ref }}
  # test:
  #   runs-on: ${{ matrix.os }}
  #   strategy:
  #     matrix:
  #       os: [ubuntu-latest, macOS-latest, windows-latest]
  #   steps:
  #   - uses: actions/checkout@v1
  #   - name: Use Node.js 12.x
  #     uses: actions/setup-node@v1
  #     with:
  #       node-version: '12.x'
  #   - name: Install
  #     run: yarn
  #   - name: Lint
  #     run: yarn lint
  #   - name: Build
  #     run: yarn build
  #   - name: Test
  #     run: yarn test:once
  #   - name: E2E
  #     run: yarn e2e

  # release:
  #   needs: test
  #   runs-on: ubuntu-latest
  #   steps:
  #   - uses: actions/checkout@v1
  #   - name: Use Node.js 12.x
  #     uses: actions/setup-node@v1
  #     with:
  #       node-version: '12.x'
  #   - name: Install
  #     run: yarn
  #   - name: Build
  #     run: yarn build      
  #   - name: Semantic Release
  #     uses: cycjimmy/semantic-release-action@v2
  #     env:
  #       GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
  #       NPM_TOKEN: ${{ secrets.NPM_TOKEN }}
  #   - name: Wait for release to propagate
  #     run: sleep 10
  #   - name: Try to use release
  #     run: yarn create cljs-app my-cljs-app
